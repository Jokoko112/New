<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agenda Apuesta âš½</title>
  <style>
    body {
      background: #0f172a;
      color: #f1f5f9;
      font-family: "Poppins", sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background: #1e293b;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    h1 { color: #38bdf8; margin: 0; }
    .card {
      background: #1e293b;
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem auto;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .pais {
      font-weight: bold;
      color: #facc15;
      font-size: 1.1rem;
    }
    .liga {
      color: #94a3b8;
      font-size: 0.9rem;
    }
    .match {
      margin-top: 0.5rem;
      font-size: 1rem;
    }
    .hora {
      color: #22c55e;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Agenda Apuesta âš½</h1>
    <p>Partidos del dÃ­a - Actualizado en tiempo real</p>
  </header>

  <div id="agenda"></div>

  <script>
    const API_KEY = "TU_API_KEY_AQUI"; // <-- reemplazÃ¡ con tu key de API-Football
    const hoy = new Date().toISOString().split('T')[0];
    const agenda = document.getElementById("agenda");

    // Lista manual por si la API no devuelve nada
    const listaManual = [
      { pais: "Argentina ğŸ‡¦ğŸ‡·", liga: "Primera Nacional", local: "San MartÃ­n (T)", visita: "Ferro", hora: "20:10" },
      { pais: "Brasil ğŸ‡§ğŸ‡·", liga: "Serie A", local: "Flamengo", visita: "Palmeiras", hora: "19:30" },
      { pais: "EspaÃ±a ğŸ‡ªğŸ‡¸", liga: "LaLiga", local: "Real Madrid", visita: "Getafe", hora: "17:00" }
    ];

    async function cargarPartidos() {
      try {
        const res = await fetch(`https://v3.football.api-sports.io/fixtures?date=${hoy}`, {
          headers: { "x-apisports-key": API_KEY }
        });
        const data = await res.json();

        if (data.response && data.response.length > 0) {
          mostrarPartidosAPI(data.response);
        } else {
          mostrarManual();
        }
      } catch (err) {
        console.log("Error al cargar API:", err);
        mostrarManual();
      }
    }

    function mostrarPartidosAPI(partidos) {
      agenda.innerHTML = "";
      partidos.forEach(p => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <div class="pais">${p.league.country} ${bandera(p.league.country)}</div>
          <div class="liga">${p.league.name}</div>
          <div class="match">${p.teams.home.name} vs ${p.teams.away.name}</div>
          <div class="hora">${formatearHora(p.fixture.date)}</div>
        `;
        agenda.appendChild(div);
      });
    }

    function mostrarManual() {
      agenda.innerHTML = "";
      listaManual.forEach(p => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <div class="pais">${p.pais}</div>
          <div class="liga">${p.liga}</div>
          <div class="match">${p.local} vs ${p.visita}</div>
          <div class="hora">${p.hora}</div>
        `;
        agenda.appendChild(div);
      });
    }

    function formatearHora(fecha) {
      const hora = new Date(fecha);
      return hora.toLocaleTimeString("es-AR", { hour: "2-digit", minute: "2-digit" });
    }

    function bandera(pais) {
      const banderas = {
        "Argentina": "ğŸ‡¦ğŸ‡·",
        "Brasil": "ğŸ‡§ğŸ‡·",
        "EspaÃ±a": "ğŸ‡ªğŸ‡¸",
        "Italia": "ğŸ‡®ğŸ‡¹",
        "Francia": "ğŸ‡«ğŸ‡·",
        "Inglaterra": "ğŸ´",
        "Alemania": "ğŸ‡©ğŸ‡ª"
      };
      return banderas[pais] || "ğŸŒ";
    }

    cargarPartidos();
  </script>
</body>
</html>
